-- -------------------------------------------------------------
-- 
-- File Name: E:\Downloads\2021b-10mayFINAL\2021b-10mayFINAL\srcFiles\request_buffer\hdlsrc\request_buffer_test\Max.vhd
-- Created: 2022-05-13 16:42:37
-- 
-- Generated by MATLAB 9.11 and HDL Coder 3.19
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: Max
-- Source Path: request_buffer_test/request_buffer/request_orderer/id_ctrl/find_id_index/Max/Max
-- Hierarchy Level: 4
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;
USE work.request_buffer_pkg.ALL;

ENTITY Max IS
  PORT( in0                               :   IN    vector_of_std_logic_vector6(0 TO 63);  -- ufix6 [64]
        out0                              :   OUT   std_logic_vector(5 DOWNTO 0)  -- ufix6
        );
END Max;


ARCHITECTURE rtl OF Max IS

  -- Signals
  SIGNAL in0_unsigned                     : vector_of_unsigned6(0 TO 63);  -- ufix6 [64]
  SIGNAL Max_stage1_val                   : vector_of_unsigned6(0 TO 31);  -- ufix6 [32]
  SIGNAL Max_stage2_val                   : vector_of_unsigned6(0 TO 15);  -- ufix6 [16]
  SIGNAL Max_stage3_val                   : vector_of_unsigned6(0 TO 7);  -- ufix6 [8]
  SIGNAL Max_stage4_val                   : vector_of_unsigned6(0 TO 3);  -- ufix6 [4]
  SIGNAL Max_stage5_val                   : vector_of_unsigned6(0 TO 1);  -- ufix6 [2]
  SIGNAL Max_stage6_val                   : unsigned(5 DOWNTO 0);  -- ufix6

BEGIN
  outputgen: FOR k IN 0 TO 63 GENERATE
    in0_unsigned(k) <= unsigned(in0(k));
  END GENERATE;

  ---- Tree max implementation ----
  ---- Tree max stage 1 ----
  
  Max_stage1_val(0) <= in0_unsigned(0) WHEN in0_unsigned(0) >= in0_unsigned(1) ELSE
      in0_unsigned(1);
  
  Max_stage1_val(1) <= in0_unsigned(2) WHEN in0_unsigned(2) >= in0_unsigned(3) ELSE
      in0_unsigned(3);
  
  Max_stage1_val(2) <= in0_unsigned(4) WHEN in0_unsigned(4) >= in0_unsigned(5) ELSE
      in0_unsigned(5);
  
  Max_stage1_val(3) <= in0_unsigned(6) WHEN in0_unsigned(6) >= in0_unsigned(7) ELSE
      in0_unsigned(7);
  
  Max_stage1_val(4) <= in0_unsigned(8) WHEN in0_unsigned(8) >= in0_unsigned(9) ELSE
      in0_unsigned(9);
  
  Max_stage1_val(5) <= in0_unsigned(10) WHEN in0_unsigned(10) >= in0_unsigned(11) ELSE
      in0_unsigned(11);
  
  Max_stage1_val(6) <= in0_unsigned(12) WHEN in0_unsigned(12) >= in0_unsigned(13) ELSE
      in0_unsigned(13);
  
  Max_stage1_val(7) <= in0_unsigned(14) WHEN in0_unsigned(14) >= in0_unsigned(15) ELSE
      in0_unsigned(15);
  
  Max_stage1_val(8) <= in0_unsigned(16) WHEN in0_unsigned(16) >= in0_unsigned(17) ELSE
      in0_unsigned(17);
  
  Max_stage1_val(9) <= in0_unsigned(18) WHEN in0_unsigned(18) >= in0_unsigned(19) ELSE
      in0_unsigned(19);
  
  Max_stage1_val(10) <= in0_unsigned(20) WHEN in0_unsigned(20) >= in0_unsigned(21) ELSE
      in0_unsigned(21);
  
  Max_stage1_val(11) <= in0_unsigned(22) WHEN in0_unsigned(22) >= in0_unsigned(23) ELSE
      in0_unsigned(23);
  
  Max_stage1_val(12) <= in0_unsigned(24) WHEN in0_unsigned(24) >= in0_unsigned(25) ELSE
      in0_unsigned(25);
  
  Max_stage1_val(13) <= in0_unsigned(26) WHEN in0_unsigned(26) >= in0_unsigned(27) ELSE
      in0_unsigned(27);
  
  Max_stage1_val(14) <= in0_unsigned(28) WHEN in0_unsigned(28) >= in0_unsigned(29) ELSE
      in0_unsigned(29);
  
  Max_stage1_val(15) <= in0_unsigned(30) WHEN in0_unsigned(30) >= in0_unsigned(31) ELSE
      in0_unsigned(31);
  
  Max_stage1_val(16) <= in0_unsigned(32) WHEN in0_unsigned(32) >= in0_unsigned(33) ELSE
      in0_unsigned(33);
  
  Max_stage1_val(17) <= in0_unsigned(34) WHEN in0_unsigned(34) >= in0_unsigned(35) ELSE
      in0_unsigned(35);
  
  Max_stage1_val(18) <= in0_unsigned(36) WHEN in0_unsigned(36) >= in0_unsigned(37) ELSE
      in0_unsigned(37);
  
  Max_stage1_val(19) <= in0_unsigned(38) WHEN in0_unsigned(38) >= in0_unsigned(39) ELSE
      in0_unsigned(39);
  
  Max_stage1_val(20) <= in0_unsigned(40) WHEN in0_unsigned(40) >= in0_unsigned(41) ELSE
      in0_unsigned(41);
  
  Max_stage1_val(21) <= in0_unsigned(42) WHEN in0_unsigned(42) >= in0_unsigned(43) ELSE
      in0_unsigned(43);
  
  Max_stage1_val(22) <= in0_unsigned(44) WHEN in0_unsigned(44) >= in0_unsigned(45) ELSE
      in0_unsigned(45);
  
  Max_stage1_val(23) <= in0_unsigned(46) WHEN in0_unsigned(46) >= in0_unsigned(47) ELSE
      in0_unsigned(47);
  
  Max_stage1_val(24) <= in0_unsigned(48) WHEN in0_unsigned(48) >= in0_unsigned(49) ELSE
      in0_unsigned(49);
  
  Max_stage1_val(25) <= in0_unsigned(50) WHEN in0_unsigned(50) >= in0_unsigned(51) ELSE
      in0_unsigned(51);
  
  Max_stage1_val(26) <= in0_unsigned(52) WHEN in0_unsigned(52) >= in0_unsigned(53) ELSE
      in0_unsigned(53);
  
  Max_stage1_val(27) <= in0_unsigned(54) WHEN in0_unsigned(54) >= in0_unsigned(55) ELSE
      in0_unsigned(55);
  
  Max_stage1_val(28) <= in0_unsigned(56) WHEN in0_unsigned(56) >= in0_unsigned(57) ELSE
      in0_unsigned(57);
  
  Max_stage1_val(29) <= in0_unsigned(58) WHEN in0_unsigned(58) >= in0_unsigned(59) ELSE
      in0_unsigned(59);
  
  Max_stage1_val(30) <= in0_unsigned(60) WHEN in0_unsigned(60) >= in0_unsigned(61) ELSE
      in0_unsigned(61);
  
  Max_stage1_val(31) <= in0_unsigned(62) WHEN in0_unsigned(62) >= in0_unsigned(63) ELSE
      in0_unsigned(63);

  ---- Tree max stage 2 ----
  
  Max_stage2_val(0) <= Max_stage1_val(0) WHEN Max_stage1_val(0) >= Max_stage1_val(1) ELSE
      Max_stage1_val(1);
  
  Max_stage2_val(1) <= Max_stage1_val(2) WHEN Max_stage1_val(2) >= Max_stage1_val(3) ELSE
      Max_stage1_val(3);
  
  Max_stage2_val(2) <= Max_stage1_val(4) WHEN Max_stage1_val(4) >= Max_stage1_val(5) ELSE
      Max_stage1_val(5);
  
  Max_stage2_val(3) <= Max_stage1_val(6) WHEN Max_stage1_val(6) >= Max_stage1_val(7) ELSE
      Max_stage1_val(7);
  
  Max_stage2_val(4) <= Max_stage1_val(8) WHEN Max_stage1_val(8) >= Max_stage1_val(9) ELSE
      Max_stage1_val(9);
  
  Max_stage2_val(5) <= Max_stage1_val(10) WHEN Max_stage1_val(10) >= Max_stage1_val(11) ELSE
      Max_stage1_val(11);
  
  Max_stage2_val(6) <= Max_stage1_val(12) WHEN Max_stage1_val(12) >= Max_stage1_val(13) ELSE
      Max_stage1_val(13);
  
  Max_stage2_val(7) <= Max_stage1_val(14) WHEN Max_stage1_val(14) >= Max_stage1_val(15) ELSE
      Max_stage1_val(15);
  
  Max_stage2_val(8) <= Max_stage1_val(16) WHEN Max_stage1_val(16) >= Max_stage1_val(17) ELSE
      Max_stage1_val(17);
  
  Max_stage2_val(9) <= Max_stage1_val(18) WHEN Max_stage1_val(18) >= Max_stage1_val(19) ELSE
      Max_stage1_val(19);
  
  Max_stage2_val(10) <= Max_stage1_val(20) WHEN Max_stage1_val(20) >= Max_stage1_val(21) ELSE
      Max_stage1_val(21);
  
  Max_stage2_val(11) <= Max_stage1_val(22) WHEN Max_stage1_val(22) >= Max_stage1_val(23) ELSE
      Max_stage1_val(23);
  
  Max_stage2_val(12) <= Max_stage1_val(24) WHEN Max_stage1_val(24) >= Max_stage1_val(25) ELSE
      Max_stage1_val(25);
  
  Max_stage2_val(13) <= Max_stage1_val(26) WHEN Max_stage1_val(26) >= Max_stage1_val(27) ELSE
      Max_stage1_val(27);
  
  Max_stage2_val(14) <= Max_stage1_val(28) WHEN Max_stage1_val(28) >= Max_stage1_val(29) ELSE
      Max_stage1_val(29);
  
  Max_stage2_val(15) <= Max_stage1_val(30) WHEN Max_stage1_val(30) >= Max_stage1_val(31) ELSE
      Max_stage1_val(31);

  ---- Tree max stage 3 ----
  
  Max_stage3_val(0) <= Max_stage2_val(0) WHEN Max_stage2_val(0) >= Max_stage2_val(1) ELSE
      Max_stage2_val(1);
  
  Max_stage3_val(1) <= Max_stage2_val(2) WHEN Max_stage2_val(2) >= Max_stage2_val(3) ELSE
      Max_stage2_val(3);
  
  Max_stage3_val(2) <= Max_stage2_val(4) WHEN Max_stage2_val(4) >= Max_stage2_val(5) ELSE
      Max_stage2_val(5);
  
  Max_stage3_val(3) <= Max_stage2_val(6) WHEN Max_stage2_val(6) >= Max_stage2_val(7) ELSE
      Max_stage2_val(7);
  
  Max_stage3_val(4) <= Max_stage2_val(8) WHEN Max_stage2_val(8) >= Max_stage2_val(9) ELSE
      Max_stage2_val(9);
  
  Max_stage3_val(5) <= Max_stage2_val(10) WHEN Max_stage2_val(10) >= Max_stage2_val(11) ELSE
      Max_stage2_val(11);
  
  Max_stage3_val(6) <= Max_stage2_val(12) WHEN Max_stage2_val(12) >= Max_stage2_val(13) ELSE
      Max_stage2_val(13);
  
  Max_stage3_val(7) <= Max_stage2_val(14) WHEN Max_stage2_val(14) >= Max_stage2_val(15) ELSE
      Max_stage2_val(15);

  ---- Tree max stage 4 ----
  
  Max_stage4_val(0) <= Max_stage3_val(0) WHEN Max_stage3_val(0) >= Max_stage3_val(1) ELSE
      Max_stage3_val(1);
  
  Max_stage4_val(1) <= Max_stage3_val(2) WHEN Max_stage3_val(2) >= Max_stage3_val(3) ELSE
      Max_stage3_val(3);
  
  Max_stage4_val(2) <= Max_stage3_val(4) WHEN Max_stage3_val(4) >= Max_stage3_val(5) ELSE
      Max_stage3_val(5);
  
  Max_stage4_val(3) <= Max_stage3_val(6) WHEN Max_stage3_val(6) >= Max_stage3_val(7) ELSE
      Max_stage3_val(7);

  ---- Tree max stage 5 ----
  
  Max_stage5_val(0) <= Max_stage4_val(0) WHEN Max_stage4_val(0) >= Max_stage4_val(1) ELSE
      Max_stage4_val(1);
  
  Max_stage5_val(1) <= Max_stage4_val(2) WHEN Max_stage4_val(2) >= Max_stage4_val(3) ELSE
      Max_stage4_val(3);

  ---- Tree max stage 6 ----
  
  Max_stage6_val <= Max_stage5_val(0) WHEN Max_stage5_val(0) >= Max_stage5_val(1) ELSE
      Max_stage5_val(1);

  out0 <= std_logic_vector(Max_stage6_val);

END rtl;

