-- -------------------------------------------------------------
-- 

-- File Name: E:\Downloads\2021b-10mayFINAL\2021b-10mayFINAL\srcFiles\DIG_IF\hdlsrc\DIG_IF_test\transmitter.vhd
-- Created: 2022-05-10 17:23:04
-- 
-- Generated by MATLAB 9.11 and HDL Coder 3.19
-- 
-- -------------------------------------------------------------


-- -------------------------------------------------------------
-- 
-- Module: transmitter
-- Source Path: DIG_IF_test/DIG_IF/transmitter
-- Hierarchy Level: 1
-- 
-- -------------------------------------------------------------
LIBRARY IEEE;
USE IEEE.std_logic_1164.ALL;
USE IEEE.numeric_std.ALL;

ENTITY transmitter IS
  PORT( req_in_valid                      :   IN    std_logic;
        req_in_SEND                       :   IN    std_logic;
        req_in_filter_address             :   IN    std_logic_vector(7 DOWNTO 0);  -- uint8
        req_in_dist_address               :   IN    std_logic_vector(7 DOWNTO 0);  -- uint8
        transmit_data_re                  :   IN    std_logic_vector(3 DOWNTO 0);  -- ufix4
        transmit_data_im                  :   IN    std_logic_vector(3 DOWNTO 0);  -- ufix4
        bank_select_filter_address        :   OUT   std_logic_vector(7 DOWNTO 0);  -- uint8
        bank_select_dist_address          :   OUT   std_logic_vector(7 DOWNTO 0);  -- uint8
        data_re                           :   OUT   std_logic_vector(7 DOWNTO 0);  -- uint8
        data_im                           :   OUT   std_logic_vector(7 DOWNTO 0);  -- uint8
        occupy                            :   OUT   std_logic
        );
END transmitter;


ARCHITECTURE rtl OF transmitter IS

  -- Signals
  SIGNAL filter_address                   : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL dist_address                     : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL valid                            : std_logic;
  SIGNAL SEND                             : std_logic;
  SIGNAL AND_out1                         : std_logic;
  SIGNAL transmit_data_re_unsigned        : unsigned(3 DOWNTO 0);  -- ufix4
  SIGNAL transmit_data_im_unsigned        : unsigned(3 DOWNTO 0);  -- ufix4
  SIGNAL transmit_data_dtc_re             : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL transmit_data_dtc_im             : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL Constant1_out1                   : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL Constant_out1                    : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL Switch1_out1_re                  : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL Switch1_out1_im                  : unsigned(7 DOWNTO 0);  -- uint8
  SIGNAL NOT_out1                         : std_logic;

BEGIN
  filter_address <= unsigned(req_in_filter_address);

  bank_select_filter_address <= std_logic_vector(filter_address);

  dist_address <= unsigned(req_in_dist_address);

  bank_select_dist_address <= std_logic_vector(dist_address);

  valid <= req_in_valid;

  SEND <= req_in_SEND;

  AND_out1 <=  NOT (valid AND SEND);

  transmit_data_re_unsigned <= unsigned(transmit_data_re);

  transmit_data_im_unsigned <= unsigned(transmit_data_im);

  transmit_data_dtc_re <= resize(transmit_data_re_unsigned, 8);
  transmit_data_dtc_im <= resize(transmit_data_im_unsigned, 8);

  Constant1_out1 <= to_unsigned(16#00#, 8);

  Constant_out1 <= to_unsigned(16#00#, 8);

  
  Switch1_out1_re <= transmit_data_dtc_re WHEN AND_out1 = '0' ELSE
      Constant1_out1;
  
  Switch1_out1_im <= transmit_data_dtc_im WHEN AND_out1 = '0' ELSE
      Constant_out1;

  data_re <= std_logic_vector(Switch1_out1_re);

  data_im <= std_logic_vector(Switch1_out1_im);

  NOT_out1 <=  NOT AND_out1;

  occupy <= NOT_out1;

END rtl;

